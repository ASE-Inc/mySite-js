/**
 * MBP - Mobile boilerplate helper functions
 */
var e=!1,f=document;function h(a,b,c){if("addEventListener"in a)try{a.addEventListener(b,c,e)}catch(d){if("object"==typeof c&&c.handleEvent)a.addEventListener(b,function(a){c.handleEvent.call(c,a)},e);else throw d;}else"attachEvent"in a&&("object"==typeof c&&c.handleEvent?a.attachEvent("on"+b,function(){c.handleEvent.call(c)}):a.attachEvent("on"+b,c))}
function i(a,b,c){if("removeEventListener"in a)try{a.removeEventListener(b,c,e)}catch(d){if("object"==typeof c&&c.handleEvent)a.removeEventListener(b,function(a){c.handleEvent.call(c,a)},e);else throw d;}else"detachEvent"in a&&("object"==typeof c&&c.handleEvent?a.detachEvent("on"+b,function(){c.handleEvent.call(c)}):a.detachEvent("on"+b,c))}window.l=window.l||{};MBP.b=f.querySelector&&f.querySelector('meta[name="viewport"]');MBP.k=navigator.userAgent;
MBP.B=function(){MBP.b&&(/iPhone|iPad|iPod/.test(MBP.k)&&!/Opera Mini/.test(MBP.k))&&(MBP.b.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",f.addEventListener("gesturestart",MBP.n,e))};MBP.n=function(){MBP.b.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};MBP.c=e;MBP.f=function(){return window.pageYOffset||"CSS1Compat"===f.compatMode&&f.documentElement.scrollTop||f.body.scrollTop||0};
MBP.g=function(){var a=window;!location.hash&&MBP.c!==e&&a.scrollTo(0,1===MBP.c?0:1)};MBP.w=function(){var a=window,b=a.document,c;!location.hash&&a.addEventListener&&(window.scrollTo(0,1),MBP.c=1,c=setInterval(function(){b.body&&(clearInterval(c),MBP.c=MBP.f(),MBP.g())},15),a.addEventListener("load",function(){setTimeout(function(){20>MBP.f()&&MBP.g()},0)}))};MBP.a=function(a,b,c){this.q=b;this.d="undefined"===typeof c?"pressed":c;if(a.length&&1<a.length)for(var d in a)this.e(a[d]);else this.e(a)};
MBP.a.prototype.handleEvent=function(a){a=a||window.event;switch(a.type){case "touchstart":this.s(a);break;case "touchmove":this.r(a);break;case "touchend":this.h(a);break;case "click":this.h(a)}};MBP.a.prototype.s=function(a){var b=a.target||a.srcElement;a.stopPropagation();b.addEventListener("touchend",this,e);f.body.addEventListener("touchmove",this,e);this.i=a.touches[0].clientX;this.j=a.touches[0].clientY;b.className+=" "+this.d};
MBP.a.prototype.r=function(a){(10<Math.abs(a.touches[0].clientX-this.i)||10<Math.abs(a.touches[0].clientY-this.j))&&this.reset(a)};MBP.a.prototype.h=function(a){var a=a||window.event,b=a.target||a.srcElement;a.stopPropagation&&a.stopPropagation();this.reset(a);this.q.apply(a.currentTarget,[a]);"touchend"==a.type&&MBP.t(this.i,this.j);b.className=b.className.replace(RegExp(" ?"+this.d,"gi"),"")};
MBP.a.prototype.reset=function(a){a=a.target||a.srcElement;i(a,"touchend",this);i(f.body,"touchmove",this);a.className=a.className.replace(RegExp(" ?"+this.d,"gi"),"")};MBP.a.prototype.e=function(a){h(a,"touchstart",this);h(a,"click",this)};MBP.t=function(a,b){MBP.coords.push(a,b);window.setTimeout(function(){MBP.coords.splice(0,2)},2500)};
MBP.o=function(a){if(!MBP.p&&MBP.m)a.stopPropagation(),a.preventDefault();else for(var b=0,c=MBP.coords.length;b<c;b+=2){var d=MBP.coords[b+1];25>Math.abs(a.clientX-MBP.coords[b])&&25>Math.abs(a.clientY-d)&&(a.stopPropagation(),a.preventDefault())}};MBP.m="ontouchstart"in window&&-1!=navigator.userAgent.indexOf("Android 2.3");f.addEventListener&&f.addEventListener("click",MBP.o,!0);h(f.documentElement,"touchstart",function(){MBP.p=!0});MBP.coords=[];
MBP.u=function(a,b){function c(){var a=this.scrollHeight;a>this.clientHeight&&(this.style.height=a+3*g+"px")}var d=b?b:12,g=a.currentStyle?a.currentStyle.lineHeight:getComputedStyle(a,null).lineHeight,g=-1==g.indexOf("px")?d:parseInt(g,10);a.style.overflow="hidden";a.addEventListener?a.addEventListener("input",c,e):a.attachEvent("onpropertychange",c)};MBP.v=function(){f.addEventListener("touchstart",function(){},e)};MBP.z=function(){f.addEventListener("touchmove",function(a){a.preventDefault()},e)};
MBP.A=function(){for(var a=f.querySelectorAll("input, select, textarea"),b=0,b=0;b<a.length;b++)a[b].onfocus=function(){MBP.b.content="width=device-width,initial-scale=1,maximum-scale=1"},a[b].onblur=function(){MBP.b.content="width=device-width,initial-scale=1,maximum-scale=10"}};
MBP.C=function(){var a,b,c,d;b=window.devicePixelRatio;c=f.getElementsByTagName("head")[0];"iPad"===navigator.platform?(a=2===b?"img/startup/startup-tablet-portrait-retina.png":"img/startup/startup-tablet-portrait.png",b=2===b?"img/startup/startup-tablet-landscape-retina.png":"img/startup/startup-tablet-landscape.png",d=f.createElement("link"),d.setAttribute("rel","apple-touch-startup-image"),d.setAttribute("media","screen and (orientation: portrait)"),d.setAttribute("href",a),c.appendChild(d),a=
f.createElement("link"),a.setAttribute("rel","apple-touch-startup-image"),a.setAttribute("media","screen and (orientation: landscape)"),a.setAttribute("href",b),c.appendChild(a)):(a=2===b?"img/startup/startup-retina.png":"img/startup/startup.png",d=f.createElement("link"),d.setAttribute("rel","apple-touch-startup-image"),d.setAttribute("href",a),c.appendChild(d))};